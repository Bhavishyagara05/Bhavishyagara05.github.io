<!DOCTYPE html>
<html>
  <head>
    <title>Housewarming Invitation</title>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Zain:ital,wght@0,200;0,300;0,400;0,700;0,800;0,900;1,300;1,400&display=swap");

      body {
        margin: 0;
        padding: 0;
        font-family: "Zain", serif;
        background-color: #f5f5f5;
        height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      #countdown {
        font-size: 3.5rem;
        font-weight: bold;
        font-family: "Zain", serif;
        text-align: center;
        color: #b22222;
        text-shadow: 4px 4px 10px rgba(0, 0, 0, 0.2);
        animation: fadeOut 4s forwards;
        position: absolute;
        width: 100%;
        height: 100%;
        display: flex;
        justify-content: center;
        align-items: center;
        background-color: #f5f5f5;
      }

      @keyframes fadeOut {
        0% {
          opacity: 1;
        }
        80% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }

      #video-container {
        width: 100%;
        height: 100%;
        display: none;
        justify-content: center;
        align-items: center;
        background-color: black;
      }

      video {
        max-width: 100%;
        max-height: 100%;
      }
    </style>
  </head>
  <body>
    <div id="countdown"></div>
    <div id="video-container">
      <video id="invitation-video" controls autoplay>
        <source src="./final_invite.mp4" type="video/mp4" />
        Your browser does not support the video tag.
      </video>
    </div>

    <script>
      function getDaysUntilEvent() {
        const eventDate = new Date("2025-02-19");
        const today = new Date();
        const diffTime = eventDate - today;
        const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
        return diffDays;
      }

      const daysLeft = getDaysUntilEvent();
      const dayInterval = daysLeft === 1 ? "day" : "days";
      document.getElementById(
        "countdown"
      ).textContent = `${daysLeft} ${dayInterval} to go`;

      setTimeout(() => {
        document.getElementById("countdown").style.display = "none";
        const videoContainer = document.getElementById("video-container");
        videoContainer.style.display = "flex";

        const video = document.getElementById("invitation-video");
        video.play().catch((error) => {
          console.log("Video autoplay failed:", error);
        });
      }, 4000);
    </script>
  </body>
</html>
